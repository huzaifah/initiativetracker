{"remainingRequest":"/Users/huzaifah/Downloads/vue-material-dashboard-pro-v1.2.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huzaifah/Downloads/vue-material-dashboard-pro-v1.2.0/src/pages/Dashboard/Tables/PaginatedTables.vue?vue&type=style&index=0&id=3f5d70e7&lang=css&scoped=true&","dependencies":[{"path":"/Users/huzaifah/Downloads/vue-material-dashboard-pro-v1.2.0/src/pages/Dashboard/Tables/PaginatedTables.vue","mtime":1559183801276},{"path":"/Users/huzaifah/Downloads/vue-material-dashboard-pro-v1.2.0/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/huzaifah/Downloads/vue-material-dashboard-pro-v1.2.0/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/huzaifah/Downloads/vue-material-dashboard-pro-v1.2.0/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/huzaifah/Downloads/vue-material-dashboard-pro-v1.2.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huzaifah/Downloads/vue-material-dashboard-pro-v1.2.0/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.md-card .md-card-actions {\n  border: 0;\n  margin-left: 20px;\n  margin-right: 20px;\n}\n",{"version":3,"sources":["PaginatedTables.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgXA;AACA;AACA;AACA;AACA","file":"PaginatedTables.vue","sourceRoot":"src/pages/Dashboard/Tables","sourcesContent":["<template>\n  <div class=\"md-layout\">\n    <div class=\"md-layout-item\">\n      <md-card>\n        <md-card-header class=\"md-card-header-icon md-card-header-green\">\n          <div class=\"card-icon\">\n            <md-icon>assignment</md-icon>\n          </div>\n          <h4 class=\"title\">Initiatives</h4>\n        </md-card-header>\n        <md-card-content>\n          <md-field>\n            <label for=\"name\">Initiative</label>\n            <md-input v-model=\"searchName\" name=\"name\" id=\"name\" type=\"text\"></md-input>\n          </md-field>\n\n          <md-field>\n            <label for=\"strategy\">Strategy</label>\n            <md-select v-model=\"searchStrategy\" name=\"strategy\" id=\"strategy\">\n              <md-option value>ALL</md-option>\n              <md-option value=\"Campaign and Collaborations\">Campaign and Collaborations</md-option>\n              <md-option\n                value=\"Collaborate with Cash Management on CIB Customers\"\n              >Collaborate with Cash Management on CIB Customers</md-option>\n              <md-option value=\"Focus on Middle and Upper Income\">Focus on Middle and Upper Income</md-option>\n              <md-option\n                value=\"Focus on Manufacturing and Services\"\n              >Focus on Manufacturing and Services</md-option>\n              <md-option\n                value=\"Increase Gross Financing Balance for Business Banking\"\n              >Increase Gross Financing Balance for Business Banking</md-option>\n              <md-option\n                value=\"New Product Offering and Process Improvement\"\n              >New Product Offering and Process Improvement</md-option>\n              <md-option value=\"Support Fee Based Income\">Support Fee Based Income</md-option>\n            </md-select>\n          </md-field>\n\n          <md-field>\n            <label for=\"sector\">Sector</label>\n            <md-select v-model=\"searchSector\" name=\"sector\" id=\"sector\">\n              <md-option value>ALL</md-option>\n              <md-option value=\"Channel\">Channel</md-option>\n              <md-option value=\"Credit Card\">Credit Card</md-option>\n              <md-option value=\"Funding\">Funding</md-option>\n              <md-option value=\"Hire Purchase\">Hire Purchase</md-option>\n              <md-option value=\"Mortgage\">Mortgage</md-option>\n              <md-option value=\"Pawn Broking\">Pawn Broking</md-option>\n              <md-option value=\"Personal Finance\">Personal Finance</md-option>\n              <md-option value=\"SME\">SME</md-option>\n              <md-option value=\"Wealth Management\">Wealth Management</md-option>\n            </md-select>\n          </md-field>\n\n          <md-field>\n            <label for=\"sector\">Status</label>\n            <md-select v-model=\"searchStatus\" name=\"status\" id=\"status\">\n              <md-option value>ALL</md-option>\n              <md-option value=\"Not Started\">Not Started</md-option>\n              <md-option value=\"Completed\">Completed</md-option>\n              <md-option value=\"Deferred\">Deferred</md-option>\n            </md-select>\n          </md-field>\n\n          <md-field>\n            <label for=\"year\">Year</label>\n            <md-select v-model=\"searchYear\" name=\"year\" id=\"year\">\n              <md-option value>ALL</md-option>\n              <md-option value=\"2018\">2018</md-option>\n              <md-option value=\"2019\">2019</md-option>\n              <md-option value=\"2020\">2020</md-option>\n            </md-select>\n          </md-field>\n          <md-button class=\"md-success\" @click=\"search()\">Search</md-button>&nbsp;\n          <md-button class=\"md-success\" @click=\"displayAddNew()\">Add New</md-button>\n          <md-table\n            :value=\"queriedData\"\n            :md-sort.sync=\"currentSort\"\n            :md-sort-order.sync=\"currentSortOrder\"\n            :md-sort-fn=\"customSort\"\n            class=\"paginated-table table-striped table-hover\"\n          >\n            <md-table-toolbar>\n              <md-field>\n                <label for=\"pages\">Per page</label>\n                <md-select v-model=\"pagination.perPage\" name=\"pages\">\n                  <md-option\n                    v-for=\"item in pagination.perPageOptions\"\n                    :key=\"item\"\n                    :label=\"item\"\n                    :value=\"item\"\n                  >{{ item }}</md-option>\n                </md-select>\n              </md-field>\n\n              <!-- <md-field>\n                <md-input\n                  type=\"search\"\n                  class=\"mb-3\"\n                  clearable\n                  style=\"width: 200px\"\n                  placeholder=\"Search records\"\n                  v-model=\"searchQuery\"\n                ></md-input>\n              </md-field> -->\n            </md-table-toolbar>\n\n            <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\">\n              <!-- <md-table-cell md-label=\"Name\" md-sort-by=\"name\">{{\n                item.name\n              }}</md-table-cell>\n              <md-table-cell md-label=\"Email\" md-sort-by=\"email\">{{\n                item.email\n              }}</md-table-cell>\n              <md-table-cell md-label=\"Age\">{{ item.age }}</md-table-cell>\n              <md-table-cell md-label=\"Salary\">{{ item.salary }}</md-table-cell>\n              -->\n\n              <md-table-cell md-label=\"Year\">{{ item.year }}</md-table-cell>\n              <md-table-cell md-label=\"Strategy\">{{ item.strategy }}</md-table-cell>\n              <md-table-cell md-label=\"Sector/Programme\">{{ item.sector }}</md-table-cell>\n              <md-table-cell md-label=\"Initiative\">{{ item.name }}</md-table-cell>\n              <md-table-cell md-label=\"Status\">{{ item.status }}</md-table-cell>\n\n              <md-table-cell md-label=\"Actions\">\n                <!-- <md-button class=\"md-just-icon md-info md-simple\" @click.native=\"handleLike(item)\">\n                  <md-icon>favorite</md-icon>\n                </md-button>-->\n                <md-button\n                  class=\"md-just-icon md-warning md-simple\"\n                  @click.native=\"handleEdit(item)\"\n                >\n                  <md-icon>dvr</md-icon>\n                </md-button>&nbsp;\n                <md-button\n                  class=\"md-just-icon md-danger md-simple\"\n                  @click.native=\"handleDelete(item)\"\n                >\n                  <md-icon>close</md-icon>\n                </md-button>\n              </md-table-cell>\n            </md-table-row>\n          </md-table>\n          <!-- <div class=\"footer-table md-table\">\n            <table>\n              <tfoot>\n                <tr>\n                  <th v-for=\"item in footerTable\" :key=\"item.name\" class=\"md-table-head\">\n                    <div class=\"md-table-head-container md-ripple md-disabled\">\n                      <div class=\"md-table-head-label\">{{ item }}</div>\n                    </div>\n                  </th>\n                </tr>\n              </tfoot>\n            </table>\n          </div>-->\n        </md-card-content>\n        <md-card-actions md-alignment=\"space-between\">\n          <div class>\n            <p class=\"card-category\">Showing {{ from + 1 }} to {{ to }} of {{ total }} entries</p>\n          </div>\n          <pagination\n            class=\"pagination-no-border pagination-success\"\n            v-model=\"pagination.currentPage\"\n            :per-page=\"pagination.perPage\"\n            :total=\"total\"\n          ></pagination>\n        </md-card-actions>\n      </md-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Pagination } from \"@/components\";\n// import users from \"./users\";\n//import initiatives from \"./initiatives\";\nimport Fuse from \"fuse.js\";\nimport Swal from \"sweetalert2\";\nimport { mapState, mapMutations, mapGetters, mapActions } from \"vuex\";\n\nexport default {\n  components: {\n    Pagination\n  },\n  computed: {\n    ...mapState({\n      tableData: state => state.store.lines\n    }),\n    /***\n     * Returns a page from the searched data or the whole data. Search is performed in the watch section below\n     */\n    queriedData() {\n      let result = this.tableData;\n      if (this.searchedData.length > 0) {\n        result = this.searchedData;\n      }\n      return result.slice(this.from, this.to);\n    },\n    to() {\n      let highBound = this.from + this.pagination.perPage;\n      if (this.total < highBound) {\n        highBound = this.total;\n      }\n      return highBound;\n    },\n    from() {\n      return this.pagination.perPage * (this.pagination.currentPage - 1);\n    },\n    total() {\n      return this.searchedData.length > 0\n        ? this.searchedData.length\n        : this.tableData.length;\n    }\n  },\n  data() {\n    return {\n      currentSort: \"name\",\n      currentSortOrder: \"asc\",\n      pagination: {\n        perPage: 5,\n        currentPage: 1,\n        perPageOptions: [5, 10, 25, 50],\n        total: 0\n      },\n      footerTable: [\n        \"Year\",\n        \"Strategy\",\n        \"Sector/Programme\",\n        \"Initiative\",\n        \"Status\",\n        \"Actions\"\n      ],\n      searchQuery: \"\",\n      searchStrategy: \"\",\n      searchStatus: \"\",\n      searchSector: \"\",\n      searchYear: \"\",\n      searchName: \"\",\n      propsToSearch: [\"year\", \"strategy\", \"sector\", \"name\"],\n      searchedData: [],\n      fuseSearch: null\n    };\n  },\n  methods: {\n    ...mapMutations({\n      removeInitiative: \"store/removeInitiative\"\n    }),\n    ...mapActions({\n      loadInitiativeData: \"store/loadInitiativeData\",\n      storeInitiativeData: \"store/storeInitiativeData\"\n    }),\n    search() {\n      let result = this.tableData;\n      \n      if (this.searchStrategy != \"\") {\n        result = this.searchDetail(result, this.searchStrategy);\n      }\n\n      if (this.searchYear != \"\") {\n        result = this.searchDetail(result, this.searchYear);\n      }\n\n      if (this.searchStatus != \"\") {\n        result = this.searchDetail(result, this.searchStatus);\n      }\n\n      if (this.searchSector != \"\") {\n        result = this.searchDetail(result, this.searchSector);\n      }\n\n      if (this.searchName != \"\") {\n        result = this.searchDetail(result, this.searchName);\n      }\n\n      this.searchedData = result;\n    },\n    searchDetail(data, searchValue) {\n      let gridSearch = new Fuse(data, {\n        keys: [\"year\", \"strategy\", \"sector\", \"name\", \"status\"],\n        threshold: 0.0\n      });\n\n      return gridSearch.search(searchValue);\n    },\n    displayAddNew() {\n      this.$router.push(\"/forms/wizard\");\n    },\n    customSort(value) {\n      return value.sort((a, b) => {\n        const sortBy = this.currentSort;\n        if (this.currentSortOrder === \"desc\") {\n          return a[sortBy].localeCompare(b[sortBy]);\n        }\n        return b[sortBy].localeCompare(a[sortBy]);\n      });\n    },\n    handleLike(item) {\n      Swal.fire({\n        title: `You liked ${item.name}`,\n        buttonsStyling: false,\n        type: \"success\",\n        confirmButtonClass: \"md-button md-success\"\n      });\n    },\n    handleEdit(item) {\n      this.$router.push(`/forms/wizard/${item.id}`);\n    },\n    handleDelete(item) {\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: `You won't be able to revert this!`,\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonClass: \"md-button md-success btn-fill\",\n        cancelButtonClass: \"md-button md-danger btn-fill\",\n        confirmButtonText: \"Yes, delete it!\",\n        buttonsStyling: false\n      }).then(result => {\n        if (result.value) {\n          this.removeInitiative(item);\n          //this.storeInitiativeData();\n          Swal.fire({\n            title: \"Deleted!\",\n            text: `You deleted ${item.name}`,\n            type: \"success\",\n            confirmButtonClass: \"md-button md-success btn-fill\",\n            buttonsStyling: false\n          });\n        }\n      });\n    },\n    deleteRow(item) {\n      let indexToDelete = this.tableData.findIndex(\n        tableRow => tableRow.id === item.id\n      );\n      if (indexToDelete >= 0) {\n        this.tableData.splice(indexToDelete, 1);\n      }\n    }\n  },\n  mounted() {\n    // Fuse search initialization.\n    this.fuseSearch = new Fuse(this.tableData, {\n      keys: [\"year\", \"strategy\", \"sector\", \"name\", \"status\"],\n      threshold: 0.0\n    });\n\n    this.loadInitiativeData();\n  },\n  watch: {\n    /**\n     * Searches through the table data by a given query.\n     * NOTE: If you have a lot of data, it's recommended to do the search on the Server Side and only display the results here.\n     * @param value of the query\n     */\n    searchQuery(value) {\n      let result = this.tableData;\n      if (value !== \"\") {\n        result = this.fuseSearch.search(this.searchQuery);\n      }\n      this.searchedData = result;\n    }\n  }\n};\n</script>\n\n<style lang=\"css\" scoped>\n.md-card .md-card-actions {\n  border: 0;\n  margin-left: 20px;\n  margin-right: 20px;\n}\n</style>\n"]}]}